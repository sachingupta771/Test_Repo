node {
   def GIT_URL
   def CREDS
   stage('Preparation') { 
        script {
            echo "preparing for pipeline";
            CREDS = 'GITHUB'
           
        }
    }
    stage('Checkout') {
        script {
            def Branch = params.Branch
            def Application = params.Application
            if ( Application == "Party") 
                {
                env.GIT_URL='https://github.com/sachingupta771/party.git'
                }
            else if ( Application == "HeadFund") 
                {
                env.GIT_URL='https://github.com/sachingupta771/headfund.git'
                }
            echo ${Application}
            echo "${Branch} ,at url: ${env.GIT_URL}";
            echo 'Taking Checkout of Application Repo ';
            checkout([$class: 'GitSCM', branches: [[name: Branch]], doGenerateSubmoduleConfigurations: false, extensions: [], submoduleCfg: [], userRemoteConfigs: [[credentialsId: "${CREDS}", url: "${env.GIT_URL}"]]]) 
        }
    }
}
